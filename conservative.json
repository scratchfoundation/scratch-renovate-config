{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  "extends": [
    "github>LLK/scratch-renovate-config:base"
  ],

  "packageRules": [
    {
      "$comment": "enable auto-merge for minor, patch, and in-range updates of internal dependencies which use semver",
      "matchCurrentVersion": "!/^0/",
      "matchUpdateTypes": ["minor", "patch", "lockFileMaintenance"],
      "matchSourceUrlPrefixes": [
        "git+https://github.com/scratchfoundation/",
        "git+ssh://git@github.com/scratchfoundation/",
        "git://github.com/scratchfoundation/",
        "git@github.com:scratchfoundation/",
        "https://github.com/scratchfoundation/",
        "git+https://github.com/LLK/",
        "git+ssh://git@github.com/LLK/",
        "git://github.com/LLK/",
        "git@github.com:LLK/",
        "https://github.com/LLK/"
      ],
      "automerge": true,
      "rebaseWhen": "behind-base-branch"
    },
    {
      "$comment": "enable auto-merge for all updates of internal dependencies which don't yet use semver",
      "matchCurrentVersion": "/^0.*-prerelease/",
      "matchSourceUrlPrefixes": [
        "git+https://github.com/scratchfoundation/",
        "git+ssh://git@github.com/scratchfoundation/",
        "git://github.com/scratchfoundation/",
        "git@github.com:scratchfoundation/",
        "https://github.com/scratchfoundation/",
        "git+https://github.com/LLK/",
        "git+ssh://git@github.com/LLK/",
        "git://github.com/LLK/",
        "git@github.com:LLK/",
        "https://github.com/LLK/"
      ],
      "automerge": true,
      "rebaseWhen": "behind-base-branch"
    }
  ]
}
